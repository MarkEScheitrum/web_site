<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Genealogy Records</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            text-align: center;
            position: relative;
            min-height: 100vh;
        }
        h1 {
            color: #333;
        }
        a {
            font-size: 18px;
            color: #0066cc;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .photo-frame {
            display: inline-block;
            margin: 20px;
            padding: 10px;
            background: #f9f9f9;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }
        .photo-frame img {
            max-width: 600px;
            max-height: 600px;
            border-radius: 3px;
        }
        .photo-frame p {
            margin: 10px 0 0;
            font-size: 14px;
            color: #333;
        }
        .instructions {
            text-align: left;
            max-width: 740px;
            padding: 16px;
            background: #f9f9f9;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin: 20px auto;
        }
        .instructions h2 {
            color: #333;
            font-size: 16px;
            margin-bottom: 15px;
        }
        .instructions ol {
            padding-left: 16px;
        }
        .instructions li {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        .instructions ul {
            padding-left: 16px;
        }
        .instructions strong {
            color: #0066cc;
        }
        .version-info {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        .title-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        @media (max-width: 600px) {
            .photo-frame {
                margin: 10px;
            }
            .photo-frame img {
                max-width: 100%;
                max-height: 400px;
            }
            .photo-frame p {
                font-size: 12px;
            }
            .instructions {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="title-container">
        <h1>Welcome to the Leiby Genealogy Recorder</h1>
        <div class="version-info">Version 1.0.6 — November 19, 2025</div>
    </div>

    <div class="photo-frame">
        <img src="img/tabernacle bridge2.jpg" alt="Tabernacle Bridge circa 1960">
        <p>Tabernacle Bridge, Lewistown Valley, Tamaqua PA circa 1960</p>
    </div>

    <div class="instructions">
        <h2>How to Use the Genealogy Recorder</h2>
        <ol>
            <li>Click this <a href="recorder.html" id="openEditorLink" aria-label="Open genealogy editor in a new window or focus existing one"><strong>Genealogy Recorder</strong></a> link to open the recorder page.</li>
            <li>You have two options:
                <ul>
                    <li>If you already have a passphrase from a previous email, click <strong>"Load Records"</strong> and enter it.</li>
                    <li>If you need a new edit package,...
                        <ul>
                            <li>Click <strong>"Request Edit Package ✉️"</strong></li>
                            <li>Fill in your name, email, the starting person’s full name and birth year, and your relationship</li>
                            <li>Submit — you’ll receive an email with your passphrase and records shortly</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>Once loaded, edit records using the action buttons:
                <ul>
                    <li><strong>View Table</strong> to see your records</li>
                    <li>Add children, partners, or record deaths as needed</li>
                    <li>Use <strong>"Update Record"</strong> to fix typos or omissions</li>
                </ul>
            </li>
            <li>When finished, click <strong>"Return Updates"</strong> to send changes back</li>
            <li>Thank you for helping preserve our family history!</li>
        </ol>
    </div>

    <p id="popupWarning" style="display:none;color:red;">Please allow popups for this site to open the editor.</p>

    <script>
        let editorWindow = null;
        document.getElementById('openEditorLink').addEventListener('click', function(e) {
            e.preventDefault();
            if (editorWindow && !editorWindow.closed) {
                editorWindow.focus();
            } else {
                const availWidth = screen.availWidth || screen.width;
                const availHeight = screen.availHeight || screen.height;
                const width = Math.max(800, Math.min(1600, Math.floor(availWidth * 0.8)));
                const height = Math.max(600, Math.min(900, Math.floor(availHeight * 0.8)));
                editorWindow = window.open('recorder.html', 'genealogyEditor', `width=${width},height=${height}`);
                if (!editorWindow) {
                    document.getElementById('popupWarning').style.display = 'block';
                }
            }
        });
    </script>
</body>
</html>
